<mat-toolbar color="accent">
  <mat-toolbar-row>
    <button mat-button (click)="buildGroundtruth(0)"     
    matTooltip="Binary classification example">
      Preset 1
    </button>
    <button mat-button (click)="buildGroundtruth(1)"
    matTooltip="Multi-classification example">
      Preset 2</button>
    <button mat-button (click)="buildGroundtruth(2)"
    matTooltip="Medical image example on OCT">
      Optical Coherence Tomography
    </button>
    <button mat-button (click)="buildGroundtruth(3)"
    matTooltip="Medical image example on Fundus image">
      Fundus
    </button>
  </mat-toolbar-row>
</mat-toolbar>

<div class="central-container flex-horizontal">
  <!-- This the panel options container-->
  <div class="panel-options">
    <mat-action-list dense fxLayout="column">
      <button
        mat-list-item
        [style.background-color]="
          classService.getRGBStyleFromClass(classService.currentClass)
        "
        matTooltip="Class selected and which will be used when drawing or filling"
      >
        <mat-icon>color_lens</mat-icon>Active class
      </button>
      <button mat-list-item (click)="changeTool('draw'); setDrawMode()"
      matTooltip="Click to modify either the groundtruth (on reference image) or the segmentation (on prediction image) with a paintbrush tool">
        <mat-icon>brush</mat-icon>Draw
      </button>

      <button mat-list-item (click)="changeTool('fill'); setDrawMode()"
      matTooltip="Click and fill a region defined by the groundtruth's segmentation with the active class (only applicable on prediction image).">
        <mat-icon>colorize</mat-icon>Fill
      </button>

      <!--
      <button mat-list-item (click)="setDragMode()" matTooltip="Trying drag"
        ><mat-icon>colorize</mat-icon>Drag
      </button>-->

      <button
        mat-list-item
        *ngFor="let class of classService.classes; let i = index; last as last"
        (click)="changeActiveClass(i)"
        [style.background-color]="classService.getRGBStyleFromClass(i)"
      >
        {{ class }}
      </button>
    </mat-action-list>
    <!--Adding a break line to add space before radius-->
    <br>
    <label for="sliderRadius">Radius</label>
    <mat-slider
      id="sliderRadius"
      valueText="Radius"
      min="1"
      max="25"
      value="5"
      (input)="resizeBrush($event)"
      thumbLabel
      step="0.5"
      matTooltip="Vary the radius of the paintbrush"
    ></mat-slider>

    <!--See if we want to move this and add only drag button up-->
    <mat-button-toggle-group>
      <mat-button-toggle [checked]="drawNotDrag" (change)="setDrawMode()" matTooltip="Draw on the reference of prediction images"
        >Draw</mat-button-toggle
      >
      <mat-button-toggle [checked]="!drawNotDrag" (change)="setDragMode()" matTooltip="Drag the cursor and see the evolution of the metrics while doing so. The final position of the cursor will be drawn."
        >Drag</mat-button-toggle
      >
    </mat-button-toggle-group>

    <mat-divider vertical="true" [inset]="true"></mat-divider>
  </div>

  <!-- This is the canvas container-->
  <div class="draw-container flex-horizontal">
    <div class="canvas-container" [style.display]="UICtrlService.showReference? 'initial':'none'">
      <h3 class="canvas-label">Reference</h3>
      <div
        #cursor
        class="cursor"
        [style.top.px]="cursorPositionGT.y"
        [style.left.px]="cursorPositionGT.x"
        [style.transform]="getCursorTransform()"
      >
        <div
          class="cursor-radius"
          [style.border-color]="
            classService.getRGBStyleFromClass(classService.currentClass)
          "
        ></div>
        <mat-icon *ngIf="drawTool == 'draw'">brush</mat-icon>
      </div>

      <canvas #canvasVisu id="canvasVisu" [style.opacity.%]="overlayOpacity"></canvas>
      <img class="imgBackground" [src]="imgSrc"/>
    </div>
    <div class="canvas-container">
      <h3 class="canvas-label">Prediction</h3>
      <div
        #cursor
        class="cursor"
        [style.top.px]="cursorPosition.y"
        [style.left.px]="cursorPosition.x"
        [style.transform]="getCursorTransform()"
      >
        <div
          class="cursor-radius"
          [style.border-color]="
            classService.getRGBStyleFromClass(classService.currentClass)
          "
        ></div>
        <mat-icon *ngIf="drawTool == 'draw'">brush</mat-icon>
        <mat-icon *ngIf="drawTool == 'fill'">colorize</mat-icon>
      </div>

      <canvas #canvas id="canvasDraw" [style.opacity.%]="overlayOpacity"></canvas>
      <canvas #canvasGroundtruth id="canvasGroundtruth" [style.display]="UICtrlService.showOverlayReference? 'initial':'none'"></canvas>
      <img class="imgBackground" [src]="imgSrc" type="image/jpeg">/>
    </div>
  </div>
</div>
